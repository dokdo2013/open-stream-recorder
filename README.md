# open-stream-recorder
오픈소스 생방송 녹화 모듈 (opensource stream recorder module)

> English version will be provided

## 아키텍쳐 구상
### 컨셉
- 벤더 종속성 없이 표준 hls 방식으로 스트리밍되는 모든 종류의 영상을 녹화할 수 있도록 종합 솔루션을 제공한다.
- 서비스 내 각 부분을 모듈화하여 독립적으로 실행될 수 있도록 설계한다.
- 파이프라인을 통해 각 모듈의 실행을 유기적으로 연결하여 동작할 수 있도록 한다.
- 통합 대시보드 서비스를 제공해 GUI 환경에서 파이프라인을 관리하고, 각 모듈의 동작을 가시화할 수 있도록 한다.
- 고가용성과 다중 서버 환경을 100% 지원할 수 있도록 설계한다.
- 여러 DB/Queue 환경을 지원할 수 있도록 설계한다. (필요에 따라 MySQL/PostgreSQL/SQLite를 선택할 수 있고, RabbitMQ/Kafka/Redis를 선택할 수 있도록 설계한다)

### 모듈 컨셉
- 모든 모듈은 실행 전과 후에 서브모듈을 결합해 실행할 수 있도록 설계한다.
- 코어 모듈은 서브 모듈 없이도 각 구성요소가 독립적으로 동작할 수 있어야 한다.
- 서브 모듈은 코어 모듈의 각 동작에서 호출해서 부가적으로 사용할 수 있어야 한다.

### 코어 모듈
- 파이프라인 모듈 (Pipeline Module) : 각 모듈을 연결하여 하나의 파이프라인에서 동작할 수 있도록 지원하는 모듈
- 입력 모듈 (Input Module) : 여러 라이브 스트리밍 서비스로부터 m3u8 주소를 추출할 수 있도록 지원하는 모듈
- 파서 모듈 (Parser Module) : m3u8 주소를 파싱하는 모듈
- 다운로드 모듈 (Download Module) : 추출된 ts 파일 주소를 다운받는 모듈
- 출력 모듈 (Export Module) : ts segment 파일을 지정된 장소에 저장/업로드하는 모듈

### 서브 모듈
- 자막 모듈 (Caption Module) : 후처리 파이프라인에서 호출 가능한 자막 생성 모듈
- 썸네일 추출 모듈 (Thumbnail Module) : 후처리 파이프라인에서 호출 가능한 썸네일 추출 모듈
- S3 API 모듈 (S3 API Module) : S3 API를 호출할 수 있도록 표준화된 입출력을 지원하는 모듈

### 대시보드
대시보드는 하위 모듈을 통합하여 관리할 수 있는 종합 관리 시스템이다.
- 프론트엔드 앱 (Frontend App) : 파이프라인을 생성하고 수정할 수 있는 GUI를 제공한다. 각 모듈의 처리 상태를 확인할 수도 있어야 한다.
- 백엔드 앱 (Backend App) : 프론트엔드 앱이 동작할 수 있도록 Backend API를 제공한다.

### 대시보드 모듈
- 인증 모듈 (Auth Module) : 대시보드에 인증을 추가할 수 있는 모듈이다.
- 권한 모듈 (Access Control Module) : 역할/정책별로 유저의 권한을 관리할 수 있는 모듈이다.

